---
title: google tools
date: 2018-09-30 00:57:33
categories: 
    - 编程
tag: 
    - 工具链
mathjax: false
---

本blog整理google自家的工具链，包括glags、glog、gtest、protocol-buffers

<!-- more -->

# Googletest-断言
`EXPECT_EQ(expected, actual)` is the same as `EXPECT_TRUE((expected) == (actual))`

1. `EXPECT_*` 失败时，案例继续往下执行。
2. `ASSERT_*` 失败时，直接在当前函数中返回，当前函数中`ASSERT_*`后面的语句将不会执行。 

## 布尔值检查

|Fatal assertion	        |Nonfatal assertion	        |Verifies           |
|---------------------------|---------------------------|-------------------|
|ASSERT_TRUE(condition);    |EXPECT_TRUE(condition);	|condition is true  |
|ASSERT_FALSE(condition);	|EXPECT_FALSE(condition);	|condition is false |

## 数值型数据检查

|Fatal assertion               |Nonfatal assertion            |Verifies            |
|------------------------------|------------------------------|--------------------|
|ASSERT_EQ(expected, actual);  |EXPECT_EQ(expected, actual);  |expected == actual  |
|ASSERT_NE(val1, val2);	       |EXPECT_NE(val1, val2);	      |val1 != val2        |
|ASSERT_LT(val1, val2);	       |EXPECT_LT(val1, val2);	      |val1 < val2         |
|ASSERT_LE(val1, val2);	       |EXPECT_LE(val1, val2);	      |val1 <= val2        |
|ASSERT_GT(val1, val2);	       |EXPECT_GT(val1, val2);	      |val1 > val2         |
|ASSERT_GE(val1, val2);	       |EXPECT_GE(val1, val2);	      |val1 >= val2        |

## 字符串检查 

|Fatal assertion	                    |Nonfatal assertion	                    |Verifies                                   |
|---------------------------------------|---------------------------------------|-------------------------------------------|
|ASSERT_STREQ(expected_str, actual_str);|EXPECT_STREQ(expected_str, actual_str);|the two C strings have the same content    |
|ASSERT_STRNE(str1, str2);	            |EXPECT_STRNE(str1, str2);	            |the two C strings have different content   |
|ASSERT_STRCASEEQ(expected_str, actual_str);|EXPECT_STRCASEEQ(expected_str, actual_str);	|the two C strings have the same content, ignoring case|
|ASSERT_STRCASENE(str1, str2);	        |EXPECT_STRCASENE(str1, str2);	        |the two C strings have different content, ignoring case|

## 异常检查

|Fatal assertion	                     |Nonfatal assertion                	  |Verifies                                         |
|----------------------------------------|----------------------------------------|-------------------------------------------------|
|ASSERT_THROW(statement, exception_type);|EXPECT_THROW(statement, exception_type);|statement throws an exception of the given type  |
|ASSERT_ANY_THROW(statement);	         |EXPECT_ANY_THROW(statement);            |statement throws an exception of any type        |
|ASSERT_NO_THROW(statement);             |EXPECT_NO_THROW(statement);	          |statement doesn't throw any exception            |

## 浮点型检查

|Fatal assertion	                    |Nonfatal assertion                     |Verifies                               |
|---------------------------------------|---------------------------------------|---------------------------------------|
|ASSERT_FLOAT_EQ(expected, actual);	    |EXPECT_FLOAT_EQ(expected, actual);	    |the two float values are almost equal  |
|ASSERT_DOUBLE_EQ(expected, actual);	|EXPECT_DOUBLE_EQ(expected, actual);	|the two double values are almost equal |

对相近的两个数比较：

|Fatal assertion	                |Nonfatal assertion             	|Verifies       |
|-----------------------------------|-----------------------------------|---------------|
|ASSERT_NEAR(val1, val2, abs_error);|EXPECT_NEAR(val1, val2, abs_error);|the difference between val1 and val2 doesn't exceed the given absolute error|

